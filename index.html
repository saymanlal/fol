<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Thoughtful Note</title>
<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  background: #0a0a12;
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
  font-family: 'Georgia', serif;
}

/* Cosmic Background */
.space {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: 
    radial-gradient(circle at 20% 30%, #151530 0%, transparent 50%),
    radial-gradient(circle at 80% 70%, #301530 0%, transparent 50%),
    linear-gradient(180deg, #0a0a12 0%, #000 100%);
  z-index: -2;
}

/* Subtle Starfield */
.stars {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: -1;
}

.star {
  position: absolute;
  background: white;
  border-radius: 50%;
  opacity: 0.3;
}

/* Golden Dust Particles */
.gold-dust {
  position: absolute;
  width: 3px;
  height: 3px;
  background: #ffd700;
  border-radius: 50%;
  pointer-events: none;
  z-index: 1;
  opacity: 0;
  box-shadow: 0 0 6px #ffd700;
}

/* Letter Container */
.letter-container {
  position: relative;
  width: 380px;
  perspective: 1500px;
  transform-style: preserve-3d;
}

/* Closed Letter */
.closed-letter {
  position: relative;
  width: 100%;
  height: 480px;
  transform: rotateX(15deg) rotateY(5deg);
  transform-style: preserve-3d;
  transition: transform 1.2s cubic-bezier(0.34, 1.56, 0.64, 1);
  cursor: pointer;
}

.closed-letter:hover {
  transform: rotateX(12deg) rotateY(3deg) translateY(-10px);
}

/* Paper Scroll */
.paper-scroll {
  position: absolute;
  width: 100%;
  height: 100%;
  background: linear-gradient(145deg, #f8f1e1 0%, #e8dbc4 100%);
  border-radius: 8px;
  overflow: hidden;
  box-shadow: 
    0 30px 60px rgba(0, 0, 0, 0.8),
    inset 0 1px 0 rgba(255, 255, 255, 0.3),
    inset 0 -1px 0 rgba(0, 0, 0, 0.2);
  transform-style: preserve-3d;
}

/* Paper Texture */
.paper-scroll::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-image: 
    linear-gradient(90deg, rgba(0,0,0,0.03) 1px, transparent 1px),
    linear-gradient(rgba(0,0,0,0.03) 1px, transparent 1px);
  background-size: 20px 20px, 100% 20px;
  opacity: 0.3;
  pointer-events: none;
}

/* Rolled Edges */
.paper-scroll::after {
  content: '';
  position: absolute;
  left: 0;
  right: 0;
  height: 40px;
  background: linear-gradient(180deg, #d4c5a2 0%, #c2b18e 100%);
  border-radius: 50%;
  bottom: -20px;
  box-shadow: inset 0 2px 4px rgba(0,0,0,0.2);
}

/* Red Ribbon */
.ribbon {
  position: absolute;
  width: 100%;
  height: 60px;
  background: linear-gradient(135deg, #8b0000 0%, #b22222 100%);
  top: 50%;
  transform: translateY(-50%);
  z-index: 2;
  box-shadow: 
    0 4px 12px rgba(0, 0, 0, 0.4),
    inset 0 1px 0 rgba(255, 255, 255, 0.2),
    inset 0 -1px 0 rgba(0, 0, 0, 0.3);
}

.ribbon-knot {
  position: absolute;
  width: 50px;
  height: 50px;
  background: linear-gradient(135deg, #b22222 0%, #8b0000 100%);
  border-radius: 50%;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: 3;
  box-shadow: 
    0 4px 12px rgba(0, 0, 0, 0.5),
    inset 0 2px 0 rgba(255, 255, 255, 0.2),
    inset 0 -2px 0 rgba(0, 0, 0, 0.3);
}

.ribbon-knot::before {
  content: '';
  position: absolute;
  width: 30px;
  height: 30px;
  border: 2px solid rgba(255, 255, 255, 0.1);
  border-radius: 50%;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
}

/* Open Letter */
.open-letter {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: linear-gradient(145deg, #f8f1e1 0%, #e8dbc4 100%);
  border-radius: 8px;
  padding: 40px 35px;
  box-shadow: 
    0 40px 80px rgba(0, 0, 0, 0.9),
    inset 0 1px 0 rgba(255, 255, 255, 0.4);
  opacity: 0;
  transform: scale(0.8) rotateX(-10deg);
  transform-origin: center;
  transition: all 1.2s cubic-bezier(0.34, 1.56, 0.64, 1);
  pointer-events: none;
  z-index: 5;
}

.open-letter.active {
  opacity: 1;
  transform: scale(1) rotateX(0deg);
  pointer-events: all;
}

/* Paper texture for open letter */
.open-letter::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-image: 
    linear-gradient(90deg, rgba(0,0,0,0.02) 1px, transparent 1px),
    linear-gradient(rgba(0,0,0,0.02) 1px, transparent 1px);
  background-size: 20px 20px, 100% 20px;
  opacity: 0.4;
  border-radius: 8px;
  pointer-events: none;
}

/* Letter Content */
.letter-content {
  position: relative;
  height: 100%;
  display: flex;
  flex-direction: column;
}

.letter-text {
  color: #2a241c;
  font-size: 16px;
  line-height: 1.8;
  white-space: pre-line;
  opacity: 0;
  transform: translateY(20px);
  transition: all 1s ease 0.3s;
  flex-grow: 1;
  text-shadow: 0 1px 1px rgba(255, 255, 255, 0.5);
}

.open-letter.active .letter-text {
  opacity: 1;
  transform: translateY(0);
}

/* Animated text */
.letter-text span {
  display: inline-block;
  opacity: 0;
  transform: translateY(5px);
  animation: fadeInChar 0.3s forwards;
}

@keyframes fadeInChar {
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Signature */
.signature {
  margin-top: 30px;
  text-align: right;
  font-family: 'Brush Script MT', cursive;
  font-size: 22px;
  color: #8b0000;
  opacity: 0;
  transform: translateX(20px);
  transition: all 0.8s ease 1.2s;
  padding: 10px 0;
  position: relative;
  cursor: pointer;
}

.open-letter.active .signature {
  opacity: 1;
  transform: translateX(0);
}

.signature::after {
  content: '';
  position: absolute;
  bottom: 0;
  right: 0;
  width: 0;
  height: 1px;
  background: linear-gradient(90deg, transparent, #8b0000);
  transition: width 0.6s ease;
}

.signature:hover::after {
  width: 100%;
}

/* Close Button */
.close-btn {
  position: absolute;
  top: 15px;
  right: 15px;
  width: 32px;
  height: 32px;
  background: rgba(139, 0, 0, 0.1);
  border: 1px solid rgba(139, 0, 0, 0.2);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  opacity: 0;
  transform: scale(0);
  transition: all 0.3s ease;
  z-index: 10;
}

.open-letter.active .close-btn {
  opacity: 1;
  transform: scale(1);
  transition-delay: 1.8s;
}

.close-btn:hover {
  background: rgba(139, 0, 0, 0.2);
  transform: scale(1.1);
}

.close-btn::before,
.close-btn::after {
  content: '';
  position: absolute;
  width: 14px;
  height: 2px;
  background: #8b0000;
}

.close-btn::before {
  transform: rotate(45deg);
}

.close-btn::after {
  transform: rotate(-45deg);
}

/* Instructions */
.instructions {
  position: absolute;
  bottom: 30px;
  left: 0;
  right: 0;
  text-align: center;
  color: rgba(255, 255, 255, 0.4);
  font-size: 14px;
  font-family: 'Arial', sans-serif;
  letter-spacing: 1px;
  z-index: 1;
  opacity: 0.7;
  animation: pulse 3s infinite;
}

@keyframes pulse {
  0%, 100% { opacity: 0.4; }
  50% { opacity: 0.7; }
}

/* Magical glow effect */
.glow {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 200%;
  height: 200%;
  background: radial-gradient(circle, rgba(255, 215, 0, 0.1) 0%, transparent 70%);
  opacity: 0;
  pointer-events: none;
  z-index: -1;
  transition: opacity 0.6s ease;
}

/* Opening animation elements */
.particle {
  position: absolute;
  width: 4px;
  height: 4px;
  background: #ffd700;
  border-radius: 50%;
  pointer-events: none;
  z-index: 3;
  opacity: 0;
}

/* Dried Flower Elements */
.flower {
  position: absolute;
  font-size: 18px;
  color: #8b0000;
  opacity: 0.4;
  z-index: 2;
  user-select: none;
}

/* Responsive */
@media (max-width: 500px) {
  .letter-container {
    width: 90vw;
  }
  
  .closed-letter {
    height: 400px;
  }
  
  .open-letter {
    padding: 30px 25px;
  }
  
  .letter-text {
    font-size: 15px;
  }
}

@media (max-height: 700px) {
  .closed-letter {
    height: 380px;
  }
}
</style>
</head>
<body>
  <!-- Background -->
  <div class="space"></div>
  <div class="stars" id="stars"></div>
  
  <!-- Main container -->
  <div class="letter-container">
    <!-- Closed letter -->
    <div class="closed-letter" id="closedLetter">
      <div class="paper-scroll"></div>
      <div class="ribbon"></div>
      <div class="ribbon-knot"></div>
    </div>
    
    <!-- Open letter -->
    <div class="open-letter" id="openLetter">
      <div class="glow" id="glow"></div>
      <div class="close-btn" id="closeBtn"></div>
      
      <div class="letter-content">
        <div class="letter-text" id="letterText">
Take care of your health.
Padhai aur baaki kaam zaruri hain,
par health hamesha pehle aati hai.

Aur please,
sirf meri baat sunkar
apna stress mat lena.
Jo bhi mann me ho,
share karna â€” main sununga.
Shayad thoda halka lage.

Abhi bas aaram karo.
Jab theek lage,
tab baat karenge.
        </div>
        
        <div class="signature" id="signature">
          Take care
        </div>
      </div>
    </div>
  </div>
  
  <!-- Instructions -->
  <div class="instructions">Click letter to open â€¢ Click signature to close</div>

<script>
// Create starfield
function createStars() {
  const container = document.getElementById('stars');
  const starCount = 150;
  
  for (let i = 0; i < starCount; i++) {
    const star = document.createElement('div');
    star.className = 'star';
    
    // Random position
    const left = Math.random() * 100;
    const top = Math.random() * 100;
    
    star.style.left = `${left}vw`;
    star.style.top = `${top}vh`;
    
    // Random size
    const size = Math.random() * 2 + 0.5;
    star.style.width = `${size}px`;
    star.style.height = `${size}px`;
    
    // Random opacity
    star.style.opacity = Math.random() * 0.5 + 0.1;
    
    // Add twinkle animation
    if (Math.random() > 0.7) {
      star.style.animation = `twinkle ${Math.random() * 3 + 2}s infinite alternate`;
    }
    
    container.appendChild(star);
  }
}

// Add CSS for twinkle animation
const style = document.createElement('style');
style.textContent = `
  @keyframes twinkle {
    0%, 100% { opacity: 0.1; }
    50% { opacity: 0.8; }
  }
`;
document.head.appendChild(style);

// Create golden dust particles
function createGoldDust(count, x, y) {
  for (let i = 0; i < count; i++) {
    const dust = document.createElement('div');
    dust.className = 'gold-dust';
    
    // Position
    dust.style.left = `${x}px`;
    dust.style.top = `${y}px`;
    
    // Random size and opacity
    const size = Math.random() * 3 + 1;
    dust.style.width = `${size}px`;
    dust.style.height = `${size}px`;
    
    // Random spread
    const angle = Math.random() * Math.PI * 2;
    const distance = Math.random() * 100 + 50;
    const targetX = x + Math.cos(angle) * distance;
    const targetY = y + Math.sin(angle) * distance;
    
    // Random animation duration
    const duration = Math.random() * 1 + 1.5;
    
    dust.style.animation = `dustFloat ${duration}s ease-out forwards`;
    
    // Add keyframes for this specific particle
    const keyframes = `
      @keyframes dustFloat {
        0% {
          opacity: 0;
          transform: translate(0, 0) scale(0);
        }
        20% {
          opacity: 1;
        }
        100% {
          opacity: 0;
          transform: translate(${targetX - x}px, ${targetY - y}px) scale(1.5);
        }
      }
    `;
    
    const styleEl = document.createElement('style');
    styleEl.textContent = keyframes;
    document.head.appendChild(styleEl);
    
    document.body.appendChild(dust);
    
    // Remove after animation
    setTimeout(() => {
      dust.remove();
      styleEl.remove();
    }, duration * 1000);
  }
}

// Create magical particles
function createMagicParticles(count, x, y) {
  for (let i = 0; i < count; i++) {
    const particle = document.createElement('div');
    particle.className = 'particle';
    
    // Position at center
    particle.style.left = `${x}px`;
    particle.style.top = `${y}px`;
    
    // Random color (golden tones)
    const hue = Math.random() * 20 + 40; // 40-60 = golden hues
    particle.style.background = `hsl(${hue}, 80%, 50%)`;
    
    // Random size
    const size = Math.random() * 4 + 2;
    particle.style.width = `${size}px`;
    particle.style.height = `${size}px`;
    
    document.body.appendChild(particle);
    
    // Animate particle
    const angle = Math.random() * Math.PI * 2;
    const velocity = Math.random() * 2 + 1;
    const life = Math.random() * 1000 + 500;
    
    let posX = x;
    let posY = y;
    let opacity = 1;
    let startTime = Date.now();
    
    function animate() {
      const elapsed = Date.now() - startTime;
      const progress = elapsed / life;
      
      if (progress < 1) {
        // Move particle
        posX += Math.cos(angle) * velocity;
        posY += Math.sin(angle) * velocity;
        
        // Fade out
        opacity = 1 - progress;
        
        // Apply
        particle.style.left = `${posX}px`;
        particle.style.top = `${posY}px`;
        particle.style.opacity = opacity;
        
        requestAnimationFrame(animate);
      } else {
        particle.remove();
      }
    }
    
    animate();
  }
}

// Create dried flowers
function createFlowers() {
  const flowers = ['â', 'â€', 'âœ¿', 'ðŸŒ¹', 'ðŸ¥€'];
  const container = document.querySelector('.closed-letter');
  
  for (let i = 0; i < 3; i++) {
    const flower = document.createElement('div');
    flower.className = 'flower';
    
    // Random position on the letter
    const left = Math.random() * 80 + 10;
    const top = Math.random() * 70 + 15;
    
    flower.style.left = `${left}%`;
    flower.style.top = `${top}%`;
    
    // Random flower
    flower.textContent = flowers[Math.floor(Math.random() * flowers.length)];
    
    // Random rotation
    const rotation = Math.random() * 360;
    flower.style.transform = `rotate(${rotation}deg)`;
    
    // Random size
    const size = Math.random() * 10 + 14;
    flower.style.fontSize = `${size}px`;
    
    container.appendChild(flower);
  }
}

// Open letter with magical effects
function openLetter() {
  const closed = document.getElementById('closedLetter');
  const open = document.getElementById('openLetter');
  const glow = document.getElementById('glow');
  const text = document.getElementById('letterText');
  
  // Get center position for effects
  const rect = closed.getBoundingClientRect();
  const centerX = rect.left + rect.width / 2;
  const centerY = rect.top + rect.height / 2;
  
  // Create magical effects
  createGoldDust(30, centerX, centerY);
  createMagicParticles(20, centerX, centerY);
  
  // Add glow effect
  glow.style.opacity = '1';
  
  // Animate closed letter away
  closed.style.transform = 'rotateX(60deg) translateY(-100px) scale(0.8)';
  closed.style.opacity = '0';
  closed.style.pointerEvents = 'none';
  
  // Show open letter
  setTimeout(() => {
    open.classList.add('active');
  }, 300);
  
  // Animate text character by character
  const content = text.textContent;
  const chars = content.split('');
  
  text.innerHTML = '';
  
  chars.forEach((char, index) => {
    const span = document.createElement('span');
    span.textContent = char === ' ' ? '\u00A0' : char;
    span.style.animationDelay = `${index * 0.03}s`;
    text.appendChild(span);
  });
  
  // Remove closed letter from view
  setTimeout(() => {
    closed.style.display = 'none';
  }, 600);
}

// Close letter with reverse effects
function closeLetter() {
  const closed = document.getElementById('closedLetter');
  const open = document.getElementById('openLetter');
  const glow = document.getElementById('glow');
  
  // Remove glow
  glow.style.opacity = '0';
  
  // Hide open letter
  open.classList.remove('active');
  
  // Show and animate closed letter back
  setTimeout(() => {
    closed.style.display = 'block';
    closed.style.opacity = '0';
    closed.style.transform = 'rotateX(-30deg) translateY(100px) scale(0.8)';
    closed.style.pointerEvents = 'none';
    
    // Animate back into place
    requestAnimationFrame(() => {
      closed.style.transition = 'transform 1s cubic-bezier(0.34, 1.56, 0.64, 1), opacity 0.8s ease';
      closed.style.transform = 'rotateX(15deg) rotateY(5deg)';
      closed.style.opacity = '1';
      closed.style.pointerEvents = 'all';
    });
  }, 500);
}

// Initialize
document.addEventListener('DOMContentLoaded', () => {
  // Create background
  createStars();
  createFlowers();
  
  // Event listeners
  document.getElementById('closedLetter').addEventListener('click', openLetter);
  document.getElementById('signature').addEventListener('click', closeLetter);
  document.getElementById('closeBtn').addEventListener('click', closeLetter);
  
  // Touch support
  document.getElementById('closedLetter').addEventListener('touchstart', function(e) {
    e.preventDefault();
    openLetter();
  }, {passive: false});
  
  // Add some initial subtle dust
  setTimeout(() => {
    const centerX = window.innerWidth / 2;
    const centerY = window.innerHeight / 2;
    createGoldDust(5, centerX, centerY);
  }, 1000);
});

// Add parallax effect on mouse move
document.addEventListener('mousemove', (e) => {
  const letter = document.querySelector('.closed-letter');
  if (!letter || letter.style.display === 'none') return;
  
  const x = (e.clientX / window.innerWidth - 0.5) * 10;
  const y = (e.clientY / window.innerHeight - 0.5) * 10;
  
  letter.style.transform = `rotateX(${15 - y}deg) rotateY(${5 + x}deg)`;
});
</script>
</body>
</html>