<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ancient Letter</title>

<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  background: #0a0a0a;
  height: 100vh;
  overflow: hidden;
  display: flex;
  align-items: center;
  justify-content: center;
  font-family: 'Georgia', serif;
}

/* Cosmic background */
.space {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: 
    radial-gradient(ellipse at top, rgba(20, 20, 40, 0.9) 0%, #000 70%),
    radial-gradient(circle at 20% 30%, rgba(30, 10, 30, 0.3) 0%, transparent 40%),
    radial-gradient(circle at 80% 70%, rgba(20, 30, 50, 0.3) 0%, transparent 40%);
  z-index: -1;
}

/* Floating golden sparks */
.spark {
  position: absolute;
  width: 3px;
  height: 3px;
  background: #ffd700;
  border-radius: 50%;
  box-shadow: 0 0 8px #ffd700;
  z-index: 1;
  animation: sparkFloat 7s infinite ease-in-out;
}

@keyframes sparkFloat {
  0%, 100% { 
    transform: translateY(0) rotate(0deg); 
    opacity: 0.3;
  }
  50% { 
    transform: translateY(-20px) rotate(180deg); 
    opacity: 1;
  }
}

/* Scattered paper pieces effect */
.paper-particle {
  position: absolute;
  width: 30px;
  height: 40px;
  background: linear-gradient(135deg, #f9f3e9 0%, #e5dcc6 100%);
  border-radius: 2px;
  opacity: 0;
  z-index: 2;
  transform-origin: center;
}

/* Closed Letter Container */
.letter-closed {
  position: relative;
  width: 280px;
  height: 380px;
  transform-style: preserve-3d;
  cursor: pointer;
  transition: transform 0.8s cubic-bezier(0.68, -0.55, 0.27, 1.55);
  z-index: 10;
}

.letter-closed:hover {
  transform: translateY(-10px) rotateX(5deg);
}

/* Rolled Paper Effect */
.rolled-paper {
  position: absolute;
  width: 100%;
  height: 100%;
  background: linear-gradient(135deg, #f9f3e9 0%, #e5dcc6 100%);
  border-radius: 8px 8px 20px 20px;
  transform: rotateX(10deg);
  box-shadow: 
    0 15px 35px rgba(0, 0, 0, 0.7),
    inset 0 1px 0 rgba(255, 255, 255, 0.4),
    inset 0 -1px 0 rgba(0, 0, 0, 0.2);
  overflow: hidden;
}

.rolled-paper::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 40%;
  background: linear-gradient(to bottom, rgba(229, 220, 198, 0.9) 0%, transparent 100%);
  border-radius: 8px 8px 0 0;
}

.rolled-paper::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  height: 20%;
  background: linear-gradient(to top, rgba(0, 0, 0, 0.1) 0%, transparent 100%);
  border-radius: 0 0 20px 20px;
}

/* Red Ribbon */
.ribbon {
  position: absolute;
  width: 100%;
  height: 50px;
  background: linear-gradient(135deg, #b22222 0%, #8b0000 100%);
  top: 50%;
  transform: translateY(-50%);
  z-index: 2;
  box-shadow: 
    0 5px 15px rgba(0, 0, 0, 0.5),
    inset 0 1px 0 rgba(255, 255, 255, 0.3),
    inset 0 -1px 0 rgba(0, 0, 0, 0.4);
}

.ribbon::before,
.ribbon::after {
  content: '';
  position: absolute;
  width: 60px;
  height: 40px;
  background: #8b0000;
  top: -15px;
  border-radius: 50%;
  box-shadow: inset 0 -3px 5px rgba(0, 0, 0, 0.3);
}

.ribbon::before {
  left: 20px;
  transform: rotate(-20deg);
}

.ribbon::after {
  right: 20px;
  transform: rotate(20deg);
}

.ribbon-knot {
  position: absolute;
  width: 40px;
  height: 40px;
  background: linear-gradient(135deg, #b22222 0%, #8b0000 100%);
  border-radius: 50%;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: 3;
  box-shadow: 
    0 5px 15px rgba(0, 0, 0, 0.5),
    inset 0 2px 0 rgba(255, 255, 255, 0.3);
}

/* Open Letter */
.letter-open {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%) scale(0);
  width: 420px;
  max-width: 90vw;
  background: linear-gradient(135deg, #f9f3e9 0%, #e5dcc6 100%);
  border-radius: 12px;
  padding: 40px 35px;
  box-shadow: 
    0 30px 60px rgba(0, 0, 0, 0.9),
    0 0 0 1px rgba(255, 215, 0, 0.1),
    0 0 40px rgba(139, 0, 0, 0.3);
  opacity: 0;
  z-index: 20;
  transition: all 0.8s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.letter-open.active {
  transform: translate(-50%, -50%) scale(1);
  opacity: 1;
}

/* Paper texture */
.letter-open::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-image: 
    linear-gradient(90deg, transparent 95%, rgba(0,0,0,0.03) 100%),
    linear-gradient(rgba(0,0,0,0.03) 1px, transparent 1px);
  background-size: 20px 20px, 100% 20px;
  border-radius: 12px;
  pointer-events: none;
}

.letter-open::after {
  content: '';
  position: absolute;
  top: -2px;
  left: -2px;
  right: -2px;
  bottom: -2px;
  background: linear-gradient(45deg, #ffd700, #b22222, #ffd700);
  border-radius: 14px;
  z-index: -1;
  opacity: 0;
  filter: blur(15px);
  transition: opacity 0.5s ease;
}

.letter-open.active::after {
  opacity: 0.5;
}

/* Letter content */
.letter-content {
  position: relative;
  z-index: 1;
}

.letter-text {
  color: #2a241c;
  font-size: 16px;
  line-height: 1.8;
  white-space: pre-line;
  opacity: 0;
  transform: translateY(20px);
  transition: all 1s ease 0.3s;
  font-family: 'Georgia', serif;
  text-shadow: 0 1px 1px rgba(255, 255, 255, 0.5);
}

.letter-open.active .letter-text {
  opacity: 1;
  transform: translateY(0);
}

/* Handwriting effect */
.letter-text span {
  display: inline-block;
  opacity: 0;
  transform: translateY(5px);
  animation: fadeInUp 0.5s forwards;
}

@keyframes fadeInUp {
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Signature */
.signature {
  margin-top: 30px;
  text-align: right;
  font-family: 'Dancing Script', cursive;
  font-size: 24px;
  color: #8b0000;
  opacity: 0;
  transform: translateX(20px);
  transition: all 0.8s ease 1s;
  position: relative;
  padding: 10px 0;
  cursor: pointer;
}

.letter-open.active .signature {
  opacity: 1;
  transform: translateX(0);
}

.signature::after {
  content: '';
  position: absolute;
  bottom: 0;
  right: 0;
  width: 0;
  height: 1px;
  background: #8b0000;
  transition: width 0.5s ease;
}

.signature:hover::after {
  width: 100%;
}

/* Close button */
.close-btn {
  position: absolute;
  top: 15px;
  right: 15px;
  width: 32px;
  height: 32px;
  background: rgba(139, 0, 0, 0.1);
  border: 1px solid rgba(139, 0, 0, 0.3);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  opacity: 0;
  transform: scale(0);
  transition: all 0.3s ease;
  z-index: 30;
}

.letter-open.active .close-btn {
  opacity: 1;
  transform: scale(1);
  transition-delay: 1.5s;
}

.close-btn:hover {
  background: rgba(139, 0, 0, 0.2);
  transform: scale(1.1);
}

.close-btn::before,
.close-btn::after {
  content: '';
  position: absolute;
  width: 14px;
  height: 2px;
  background: #8b0000;
}

.close-btn::before {
  transform: rotate(45deg);
}

.close-btn::after {
  transform: rotate(-45deg);
}

/* Magical opening effect */
.magic-dust {
  position: absolute;
  width: 6px;
  height: 6px;
  background: #ffd700;
  border-radius: 50%;
  pointer-events: none;
  z-index: 5;
  box-shadow: 0 0 10px #ffd700;
}

/* Instructions */
.instructions {
  position: absolute;
  bottom: 20px;
  left: 0;
  right: 0;
  text-align: center;
  color: rgba(255, 255, 255, 0.5);
  font-size: 14px;
  font-family: 'Arial', sans-serif;
  letter-spacing: 1px;
  z-index: 5;
  opacity: 0.7;
  animation: pulse 2s infinite;
}

@keyframes pulse {
  0%, 100% { opacity: 0.5; }
  50% { opacity: 0.8; }
}

/* Responsive */
@media (max-width: 500px) {
  .letter-closed {
    width: 240px;
    height: 340px;
  }
  
  .letter-open {
    width: 90vw;
    padding: 30px 25px;
  }
  
  .letter-text {
    font-size: 15px;
  }
}
</style>

</head>
<body>
  <!-- Background elements -->
  <div class="space"></div>
  
  <!-- Golden sparks -->
  <div id="sparks-container"></div>
  
  <!-- Closed letter -->
  <div class="letter-closed" id="letterClosed">
    <div class="rolled-paper"></div>
    <div class="ribbon"></div>
    <div class="ribbon-knot"></div>
  </div>
  
  <!-- Open letter -->
  <div class="letter-open" id="letterOpen">
    <div class="close-btn" id="closeBtn"></div>
    <div class="letter-content">
      <div class="letter-text" id="letterText">
Take care of your health.
Padhai aur baaki kaam zaruri hain,
par health hamesha pehle aati hai.

Aur please,
sirf meri baat sunkar
apna stress mat lena.
Jo bhi mann me ho,
share karna — main sununga.
Shayad thoda halka lage.

Abhi bas aaram karo.
Jab theek lage,
tab baat karenge.
      </div>
      <div class="signature" id="signature">
        ~ Shymlal
      </div>
    </div>
  </div>
  
  <!-- Instructions -->
  <div class="instructions">Click the letter to open • Click signature to close</div>

<script>
// Create golden sparks
function createSparks() {
  const container = document.getElementById('sparks-container');
  const sparkCount = 80;
  
  for (let i = 0; i < sparkCount; i++) {
    const spark = document.createElement('div');
    spark.className = 'spark';
    
    // Random position
    const left = Math.random() * 100;
    const top = Math.random() * 100;
    
    spark.style.left = `${left}vw`;
    spark.style.top = `${top}vh`;
    
    // Random size and animation
    const size = Math.random() * 3 + 1;
    const duration = Math.random() * 5 + 5;
    const delay = Math.random() * 5;
    
    spark.style.width = `${size}px`;
    spark.style.height = `${size}px`;
    spark.style.animationDuration = `${duration}s`;
    spark.style.animationDelay = `${delay}s`;
    
    container.appendChild(spark);
  }
}

// Create magical dust particles
function createMagicDust(x, y, count = 20) {
  for (let i = 0; i < count; i++) {
    const dust = document.createElement('div');
    dust.className = 'magic-dust';
    
    // Position at click/touch
    dust.style.left = `${x}px`;
    dust.style.top = `${y}px`;
    
    // Random velocity
    const angle = Math.random() * Math.PI * 2;
    const velocity = 2 + Math.random() * 3;
    const vx = Math.cos(angle) * velocity;
    const vy = Math.sin(angle) * velocity;
    
    // Random size and opacity
    const size = Math.random() * 4 + 2;
    dust.style.width = `${size}px`;
    dust.style.height = `${size}px`;
    dust.style.opacity = Math.random() * 0.7 + 0.3;
    
    document.body.appendChild(dust);
    
    // Animate particle
    let posX = x;
    let posY = y;
    let opacity = parseFloat(dust.style.opacity);
    
    function animateDust() {
      posX += vx;
      posY += vy;
      opacity -= 0.02;
      
      dust.style.left = `${posX}px`;
      dust.style.top = `${posY}px`;
      dust.style.opacity = opacity;
      
      if (opacity > 0) {
        requestAnimationFrame(animateDust);
      } else {
        dust.remove();
      }
    }
    
    requestAnimationFrame(animateDust);
  }
}

// Create paper particle effect
function createPaperParticles(x, y) {
  for (let i = 0; i < 12; i++) {
    const particle = document.createElement('div');
    particle.className = 'paper-particle';
    
    // Position at letter
    particle.style.left = `${x}px`;
    particle.style.top = `${y}px`;
    
    // Random rotation and size
    const rotation = Math.random() * 360;
    const scale = Math.random() * 0.5 + 0.5;
    
    particle.style.transform = `rotate(${rotation}deg) scale(${scale})`;
    
    document.body.appendChild(particle);
    
    // Animate particle flying
    const angle = Math.random() * Math.PI * 2;
    const distance = 50 + Math.random() * 100;
    const duration = 800 + Math.random() * 700;
    
    const startX = x;
    const startY = y;
    const endX = startX + Math.cos(angle) * distance;
    const endY = startY + Math.sin(angle) * distance;
    
    const startTime = Date.now();
    
    function animateParticle() {
      const elapsed = Date.now() - startTime;
      const progress = Math.min(elapsed / duration, 1);
      
      // Ease out
      const ease = 1 - Math.pow(1 - progress, 3);
      
      const currentX = startX + (endX - startX) * ease;
      const currentY = startY + (endY - startY) * ease;
      
      particle.style.left = `${currentX}px`;
      particle.style.top = `${currentY}px`;
      particle.style.opacity = 1 - progress;
      particle.style.transform = `rotate(${rotation + progress * 360}deg) scale(${scale * (1 - progress)})`;
      
      if (progress < 1) {
        requestAnimationFrame(animateParticle);
      } else {
        particle.remove();
      }
    }
    
    // Start animation
    requestAnimationFrame(animateParticle);
  }
}

// Open letter with magical effect
function openLetter(event) {
  const closedLetter = document.getElementById('letterClosed');
  const openLetter = document.getElementById('letterOpen');
  const letterText = document.getElementById('letterText');
  
  // Get click position for effect
  const x = event.clientX || event.touches[0].clientX;
  const y = event.clientY || event.touches[0].clientY;
  
  // Create magical effects
  createMagicDust(x, y, 30);
  createPaperParticles(x, y);
  
  // Hide closed letter with animation
  closedLetter.style.transition = 'transform 0.8s cubic-bezier(0.34, 1.56, 0.64, 1), opacity 0.6s ease';
  closedLetter.style.transform = 'translateY(-100px) rotateX(60deg) scale(0.5)';
  closedLetter.style.opacity = '0';
  
  // Show open letter
  setTimeout(() => {
    openLetter.classList.add('active');
    closedLetter.style.display = 'none';
  }, 300);
  
  // Animate text character by character
  const text = letterText.textContent;
  const characters = text.split('');
  
  letterText.innerHTML = '';
  
  characters.forEach((char, index) => {
    const span = document.createElement('span');
    span.textContent = char === ' ' ? '\u00A0' : char;
    span.style.animationDelay = `${index * 0.03}s`;
    letterText.appendChild(span);
  });
}

// Close letter with magical effect
function closeLetter(event) {
  event.stopPropagation();
  
  const closedLetter = document.getElementById('letterClosed');
  const openLetter = document.getElementById('letterOpen');
  
  // Create magical effect at signature
  const rect = event.target.getBoundingClientRect();
  const x = rect.left + rect.width / 2;
  const y = rect.top + rect.height / 2;
  
  createMagicDust(x, y, 25);
  
  // Close open letter
  openLetter.classList.remove('active');
  
  // Show closed letter with animation
  setTimeout(() => {
    closedLetter.style.display = 'block';
    closedLetter.style.opacity = '0';
    closedLetter.style.transform = 'translateY(100px) rotateX(-30deg) scale(0.5)';
    
    // Animate back to position
    requestAnimationFrame(() => {
      closedLetter.style.transition = 'transform 1s cubic-bezier(0.34, 1.56, 0.64, 1), opacity 0.8s ease';
      closedLetter.style.transform = 'translateY(0) rotateX(0) scale(1)';
      closedLetter.style.opacity = '1';
    });
  }, 500);
}

// Initialize
document.addEventListener('DOMContentLoaded', () => {
  // Create sparks
  createSparks();
  
  // Event listeners
  document.getElementById('letterClosed').addEventListener('click', openLetter);
  document.getElementById('signature').addEventListener('click', closeLetter);
  document.getElementById('closeBtn').addEventListener('click', closeLetter);
  
  // Touch support
  document.getElementById('letterClosed').addEventListener('touchstart', function(e) {
    e.preventDefault();
    openLetter(e);
  }, {passive: false});
});
</script>

</body>
</html>