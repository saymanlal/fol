<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ancient Letter</title>
<link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&display=swap" rel="stylesheet">

<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  background: radial-gradient(ellipse at center, #1a1a2e 0%, #0a0a0a 70%);
  height: 100vh;
  overflow: hidden;
  display: flex;
  align-items: center;
  justify-content: center;
  font-family: 'Georgia', serif;
}

/* Golden sparks floating */
.spark {
  position: absolute;
  width: 2px;
  height: 2px;
  background: #ffd700;
  border-radius: 50%;
  box-shadow: 0 0 6px #ffd700, 0 0 12px rgba(255, 215, 0, 0.4);
  animation: sparkFloat 8s infinite ease-in-out;
  pointer-events: none;
}

@keyframes sparkFloat {
  0%, 100% { 
    transform: translateY(0) translateX(0); 
    opacity: 0.4;
  }
  25% {
    opacity: 0.8;
  }
  50% { 
    transform: translateY(-25px) translateX(15px); 
    opacity: 1;
  }
  75% {
    opacity: 0.6;
  }
}

/* Closed rolled letter */
.letter-container {
  perspective: 1200px;
}

.letter-closed {
  position: relative;
  width: 320px;
  height: 420px;
  cursor: pointer;
  transform-style: preserve-3d;
  transition: transform 0.6s ease;
}

.letter-closed:hover {
  transform: translateY(-15px) rotateX(8deg);
}

.rolled-paper {
  position: relative;
  width: 100%;
  height: 100%;
  background: linear-gradient(145deg, #f4ead5 0%, #e8dcc0 50%, #d9cdb1 100%);
  border-radius: 8px;
  box-shadow: 
    0 20px 60px rgba(0, 0, 0, 0.8),
    inset 0 2px 4px rgba(255, 255, 255, 0.3),
    inset 0 -2px 4px rgba(0, 0, 0, 0.2);
  transform: rotateX(12deg);
}

/* Paper texture */
.rolled-paper::before {
  content: '';
  position: absolute;
  inset: 0;
  background-image: 
    repeating-linear-gradient(
      90deg,
      transparent,
      transparent 19px,
      rgba(0, 0, 0, 0.02) 20px
    ),
    repeating-linear-gradient(
      0deg,
      transparent,
      transparent 19px,
      rgba(0, 0, 0, 0.02) 20px
    );
  border-radius: 8px;
  pointer-events: none;
}

/* Paper roll edges */
.rolled-paper::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 80px;
  background: linear-gradient(to bottom, rgba(232, 220, 192, 0.8) 0%, transparent 100%);
  border-radius: 8px 8px 0 0;
}

/* Red ribbon wrapping */
.ribbon {
  position: absolute;
  width: 100%;
  height: 60px;
  top: 50%;
  transform: translateY(-50%);
  background: linear-gradient(135deg, #c41e3a 0%, #8b1428 50%, #6d0e1f 100%);
  box-shadow: 
    0 6px 20px rgba(0, 0, 0, 0.6),
    inset 0 2px 2px rgba(255, 255, 255, 0.2),
    inset 0 -2px 2px rgba(0, 0, 0, 0.3);
  z-index: 2;
}

.ribbon::before,
.ribbon::after {
  content: '';
  position: absolute;
  width: 80px;
  height: 50px;
  background: radial-gradient(ellipse, #a01828 0%, #6d0e1f 70%);
  top: 50%;
  border-radius: 50%;
  box-shadow: inset 0 -4px 8px rgba(0, 0, 0, 0.4);
}

.ribbon::before {
  left: -30px;
  transform: translateY(-50%) rotate(-25deg);
}

.ribbon::after {
  right: -30px;
  transform: translateY(-50%) rotate(25deg);
}

/* Ribbon knot */
.ribbon-knot {
  position: absolute;
  width: 50px;
  height: 50px;
  background: radial-gradient(circle at 35% 35%, #d42a3f 0%, #8b1428 60%);
  border-radius: 50%;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: 3;
  box-shadow: 
    0 8px 20px rgba(0, 0, 0, 0.7),
    inset 0 3px 6px rgba(255, 255, 255, 0.25),
    inset 0 -2px 4px rgba(0, 0, 0, 0.3);
}

/* Opened letter */
.letter-open {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%) scale(0) rotateY(90deg);
  width: 480px;
  max-width: 92vw;
  max-height: 85vh;
  background: linear-gradient(145deg, #f9f3e5 0%, #efe8d8 100%);
  border-radius: 16px;
  padding: 45px 40px;
  box-shadow: 
    0 40px 80px rgba(0, 0, 0, 0.9),
    0 0 0 1px rgba(255, 215, 0, 0.15);
  opacity: 0;
  z-index: 100;
  transition: all 1s cubic-bezier(0.25, 1, 0.3, 1);
  overflow-y: auto;
}

.letter-open.active {
  transform: translate(-50%, -50%) scale(1) rotateY(0deg);
  opacity: 1;
}

/* Glowing border effect when open */
.letter-open::before {
  content: '';
  position: absolute;
  inset: -3px;
  background: linear-gradient(45deg, #ffd700, #c41e3a, #ffd700, #c41e3a);
  background-size: 300% 300%;
  border-radius: 18px;
  z-index: -1;
  opacity: 0;
  filter: blur(12px);
  animation: borderGlow 3s ease infinite;
  transition: opacity 0.5s ease;
}

.letter-open.active::before {
  opacity: 0.6;
}

@keyframes borderGlow {
  0%, 100% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
}

/* Paper texture for open letter */
.letter-open::after {
  content: '';
  position: absolute;
  inset: 0;
  background-image: 
    repeating-linear-gradient(
      90deg,
      transparent,
      transparent 24px,
      rgba(0, 0, 0, 0.015) 25px
    ),
    repeating-linear-gradient(
      0deg,
      transparent,
      transparent 24px,
      rgba(0, 0, 0, 0.015) 25px
    );
  border-radius: 16px;
  pointer-events: none;
}

.letter-content {
  position: relative;
  z-index: 1;
}

.letter-text {
  color: #2a241c;
  font-size: 17px;
  line-height: 1.9;
  white-space: pre-line;
  text-shadow: 0 1px 2px rgba(255, 255, 255, 0.6);
  opacity: 0;
  transform: translateY(30px);
  transition: all 1.2s ease 0.4s;
}

.letter-open.active .letter-text {
  opacity: 1;
  transform: translateY(0);
}

/* Character-by-character reveal */
.letter-text span {
  display: inline-block;
  opacity: 0;
  animation: charReveal 0.4s forwards;
}

@keyframes charReveal {
  to {
    opacity: 1;
  }
}

/* Signature */
.signature {
  margin-top: 40px;
  text-align: right;
  font-family: 'Dancing Script', cursive;
  font-size: 28px;
  color: #8b1428;
  opacity: 0;
  transform: translateX(30px);
  transition: all 1s ease 1.2s;
  cursor: pointer;
  padding: 12px 0;
  user-select: none;
  position: relative;
}

.letter-open.active .signature {
  opacity: 1;
  transform: translateX(0);
}

.signature::before {
  content: '';
  position: absolute;
  bottom: 8px;
  right: 0;
  width: 0;
  height: 2px;
  background: linear-gradient(to left, #8b1428, transparent);
  transition: width 0.6s ease;
}

.signature:hover::before {
  width: 100%;
}

.signature:hover {
  color: #c41e3a;
  transform: translateX(-5px);
}

/* Magic dust particles */
.magic-dust {
  position: fixed;
  width: 5px;
  height: 5px;
  background: #ffd700;
  border-radius: 50%;
  pointer-events: none;
  z-index: 999;
  box-shadow: 0 0 10px #ffd700, 0 0 20px rgba(255, 215, 0, 0.5);
}

/* Instructions hint */
.hint {
  position: fixed;
  bottom: 30px;
  left: 50%;
  transform: translateX(-50%);
  color: rgba(255, 255, 255, 0.5);
  font-size: 13px;
  letter-spacing: 1.5px;
  text-transform: uppercase;
  animation: hintPulse 2.5s ease-in-out infinite;
  z-index: 10;
  pointer-events: none;
}

@keyframes hintPulse {
  0%, 100% { opacity: 0.5; transform: translateX(-50%) translateY(0); }
  50% { opacity: 0.9; transform: translateX(-50%) translateY(-5px); }
}

/* Responsive */
@media (max-width: 550px) {
  .letter-closed {
    width: 280px;
    height: 380px;
  }
  
  .letter-open {
    padding: 35px 28px;
  }
  
  .letter-text {
    font-size: 15.5px;
  }
  
  .signature {
    font-size: 24px;
  }
  
  .hint {
    font-size: 11px;
    bottom: 20px;
  }
}

@media (max-width: 380px) {
  .letter-closed {
    width: 240px;
    height: 340px;
  }
}

/* Hide scrollbar but keep functionality */
.letter-open::-webkit-scrollbar {
  width: 6px;
}

.letter-open::-webkit-scrollbar-track {
  background: transparent;
}

.letter-open::-webkit-scrollbar-thumb {
  background: rgba(139, 20, 40, 0.3);
  border-radius: 3px;
}

.letter-open::-webkit-scrollbar-thumb:hover {
  background: rgba(139, 20, 40, 0.5);
}
</style>
</head>

<body>
  <!-- Floating golden sparks -->
  <div id="sparks"></div>

  <!-- Closed rolled letter -->
  <div class="letter-container">
    <div class="letter-closed" id="closedLetter">
      <div class="rolled-paper"></div>
      <div class="ribbon">
        <div class="ribbon-knot"></div>
      </div>
    </div>
  </div>

  <!-- Opened letter -->
  <div class="letter-open" id="openLetter">
    <div class="letter-content">
      <div class="letter-text" id="letterText">Take care of your health.
Padhai aur baaki kaam zaruri hain,
par health hamesha pehle aati hai.

Aur please,
sirf meri baat sunkar
apna stress mat lena.
Jo bhi mann me ho,
share karna â€” main sununga.
Shayad thoda halka lage.

Abhi bas aaram karo.
Jab theek lage,
tab baat karenge.</div>
      
      <div class="signature" id="signature">~ Shymlal</div>
    </div>
  </div>

  <!-- Hint text -->
  <div class="hint" id="hint">Click the letter to open</div>

<script>
// Create floating golden sparks
function createSparks() {
  const container = document.getElementById('sparks');
  const sparkCount = 70;
  
  for (let i = 0; i < sparkCount; i++) {
    const spark = document.createElement('div');
    spark.className = 'spark';
    
    const x = Math.random() * window.innerWidth;
    const y = Math.random() * window.innerHeight;
    const size = Math.random() * 2.5 + 1;
    const duration = Math.random() * 6 + 6;
    const delay = Math.random() * 8;
    
    spark.style.left = x + 'px';
    spark.style.top = y + 'px';
    spark.style.width = size + 'px';
    spark.style.height = size + 'px';
    spark.style.animationDuration = duration + 's';
    spark.style.animationDelay = delay + 's';
    
    container.appendChild(spark);
  }
}

// Create magical dust particles
function createMagicDust(x, y, count) {
  for (let i = 0; i < count; i++) {
    const dust = document.createElement('div');
    dust.className = 'magic-dust';
    dust.style.left = x + 'px';
    dust.style.top = y + 'px';
    
    const angle = (Math.PI * 2 * i) / count + Math.random() * 0.5;
    const velocity = 2 + Math.random() * 4;
    const life = 1000 + Math.random() * 1000;
    
    document.body.appendChild(dust);
    
    let startTime = Date.now();
    let posX = x;
    let posY = y;
    
    function animate() {
      const elapsed = Date.now() - startTime;
      const progress = elapsed / life;
      
      if (progress < 1) {
        posX += Math.cos(angle) * velocity;
        posY += Math.sin(angle) * velocity - 2;
        
        dust.style.left = posX + 'px';
        dust.style.top = posY + 'px';
        dust.style.opacity = 1 - progress;
        dust.style.transform = 'scale(' + (1 - progress * 0.5) + ')';
        
        requestAnimationFrame(animate);
      } else {
        dust.remove();
      }
    }
    
    animate();
  }
}

// Open letter
function openLetter(e) {
  const closedLetter = document.getElementById('closedLetter');
  const openLetter = document.getElementById('openLetter');
  const hint = document.getElementById('hint');
  const letterText = document.getElementById('letterText');
  
  const rect = closedLetter.getBoundingClientRect();
  const x = rect.left + rect.width / 2;
  const y = rect.top + rect.height / 2;
  
  // Create magic effect
  createMagicDust(x, y, 40);
  
  // Hide closed letter
  closedLetter.style.transition = 'all 0.8s cubic-bezier(0.34, 1.56, 0.64, 1)';
  closedLetter.style.transform = 'translateY(-120px) rotateX(90deg) scale(0.3)';
  closedLetter.style.opacity = '0';
  
  // Update hint
  hint.textContent = 'Click signature to close';
  
  // Show open letter
  setTimeout(() => {
    openLetter.classList.add('active');
    closedLetter.style.display = 'none';
    
    // Animate text character by character
    const text = letterText.textContent;
    letterText.innerHTML = '';
    
    text.split('').forEach((char, i) => {
      const span = document.createElement('span');
      span.textContent = char;
      span.style.animationDelay = (i * 0.025) + 's';
      letterText.appendChild(span);
    });
  }, 400);
}

// Close letter
function closeLetter(e) {
  e.stopPropagation();
  
  const closedLetter = document.getElementById('closedLetter');
  const openLetter = document.getElementById('openLetter');
  const hint = document.getElementById('hint');
  
  const rect = e.target.getBoundingClientRect();
  const x = rect.left + rect.width / 2;
  const y = rect.top + rect.height / 2;
  
  // Create magic effect
  createMagicDust(x, y, 35);
  
  // Hide open letter
  openLetter.classList.remove('active');
  
  // Update hint
  hint.textContent = 'Click the letter to open';
  
  // Show closed letter
  setTimeout(() => {
    closedLetter.style.display = 'block';
    closedLetter.style.opacity = '0';
    closedLetter.style.transform = 'translateY(120px) rotateX(-60deg) scale(0.5)';
    
    setTimeout(() => {
      closedLetter.style.transition = 'all 1s cubic-bezier(0.34, 1.56, 0.64, 1)';
      closedLetter.style.transform = 'translateY(0) rotateX(0deg) scale(1)';
      closedLetter.style.opacity = '1';
    }, 50);
  }, 800);
}

// Initialize
createSparks();

document.getElementById('closedLetter').addEventListener('click', openLetter);
document.getElementById('signature').addEventListener('click', closeLetter);

// Touch support
document.getElementById('closedLetter').addEventListener('touchend', (e) => {
  e.preventDefault();
  openLetter(e);
});

document.getElementById('signature').addEventListener('touchend', (e) => {
  e.preventDefault();
  closeLetter(e);
});
</script>

</body>
</html>