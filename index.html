<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ancient Letter</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Kalam:wght@400;700&display=swap" rel="stylesheet">

<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  background: #000000;
  background-image: 
    radial-gradient(circle at 20% 30%, rgba(15, 10, 25, 0.4) 0%, transparent 50%),
    radial-gradient(circle at 80% 70%, rgba(20, 15, 30, 0.3) 0%, transparent 50%),
    radial-gradient(ellipse at 50% 50%, #0a0a15 0%, #000000 100%);
  min-height: 100vh;
  overflow: hidden;
  display: flex;
  align-items: center;
  justify-content: center;
  perspective: 1500px;
  font-family: 'Kalam', cursive;
}

/* Tiny golden star sparkles */
.star {
  position: absolute;
  background: #d4af37;
  opacity: 0;
  animation: starTwinkle 5s infinite ease-in-out;
  clip-path: polygon(
    50% 0%, 
    61% 35%, 
    98% 35%, 
    68% 57%, 
    79% 91%, 
    50% 70%, 
    21% 91%, 
    32% 57%, 
    2% 35%, 
    39% 35%
  );
}

@keyframes starTwinkle {
  0%, 100% { opacity: 0; }
  50% { opacity: 0.6; }
}

/* Floating animation */
@keyframes letterFloat {
  0%, 100% { 
    transform: translateY(0) rotateX(8deg);
  }
  50% { 
    transform: translateY(-18px) rotateX(12deg);
  }
}

/* Closed Rolled Letter */
.letter-closed {
  position: relative;
  width: 340px;
  height: 75px;
  cursor: pointer;
  animation: letterFloat 5s ease-in-out infinite;
  transition: transform 0.4s ease;
  transform-style: preserve-3d;
}

.letter-closed:hover {
  transform: translateY(-12px) rotateX(12deg);
  animation-play-state: paused;
}

/* Old parchment roll */
.paper-roll {
  position: relative;
  width: 100%;
  height: 100%;
  background: 
    linear-gradient(90deg,
      #8b7355 0%,
      #c9a876 5%,
      #d4b896 15%,
      #e8d5b7 25%,
      #f0e5d0 40%,
      #e8d5b7 60%,
      #d4b896 75%,
      #c9a876 85%,
      #8b7355 100%
    );
  border-radius: 50% / 40%;
  box-shadow: 
    0 20px 40px rgba(0, 0, 0, 0.7),
    inset 0 3px 8px rgba(255, 255, 255, 0.2),
    inset 0 -3px 8px rgba(0, 0, 0, 0.3);
  transform: rotateX(8deg);
}

/* Burnt edges effect */
.paper-roll::before {
  content: '';
  position: absolute;
  inset: 0;
  background-image: 
    radial-gradient(ellipse 40% 30% at 10% 20%, rgba(60, 40, 20, 0.5) 0%, transparent 40%),
    radial-gradient(ellipse 35% 25% at 90% 25%, rgba(60, 40, 20, 0.4) 0%, transparent 40%),
    radial-gradient(ellipse 30% 20% at 15% 80%, rgba(60, 40, 20, 0.3) 0%, transparent 35%),
    radial-gradient(ellipse 35% 25% at 85% 75%, rgba(60, 40, 20, 0.4) 0%, transparent 40%);
  border-radius: 50% / 40%;
  pointer-events: none;
}

/* Paper texture */
.paper-roll::after {
  content: '';
  position: absolute;
  inset: 0;
  background-image: 
    repeating-linear-gradient(
      0deg,
      transparent 0px,
      rgba(0, 0, 0, 0.02) 1px,
      transparent 2px
    );
  border-radius: 50% / 40%;
  opacity: 0.3;
}

/* Left edge of roll */
.paper-edge-left {
  position: absolute;
  top: 50%;
  left: -4px;
  width: 8px;
  height: 100%;
  background: radial-gradient(ellipse at left, #8b7355 0%, #6d5a43 100%);
  border-radius: 50% 0 0 50%;
  transform: translateY(-50%);
  box-shadow: inset -2px 0 5px rgba(0, 0, 0, 0.5);
}

/* Right edge of roll */
.paper-edge-right {
  position: absolute;
  top: 50%;
  right: -4px;
  width: 8px;
  height: 100%;
  background: radial-gradient(ellipse at right, #8b7355 0%, #6d5a43 100%);
  border-radius: 0 50% 50% 0;
  transform: translateY(-50%);
  box-shadow: inset 2px 0 5px rgba(0, 0, 0, 0.5);
}

/* Red ribbon */
.ribbon {
  position: absolute;
  width: 100%;
  height: 40px;
  top: 50%;
  transform: translateY(-50%);
  z-index: 5;
}

.ribbon-band {
  position: absolute;
  width: 100%;
  height: 100%;
  background: linear-gradient(
    180deg,
    #b8002f 0%,
    #8b0000 50%,
    #6d0000 100%
  );
  box-shadow: 
    0 6px 18px rgba(0, 0, 0, 0.6),
    inset 0 2px 4px rgba(255, 255, 255, 0.25),
    inset 0 -2px 4px rgba(0, 0, 0, 0.4);
}

/* Ribbon shine */
.ribbon-band::before {
  content: '';
  position: absolute;
  top: 6px;
  left: 0;
  right: 0;
  height: 8px;
  background: linear-gradient(
    90deg,
    transparent 0%,
    rgba(255, 255, 255, 0.25) 50%,
    transparent 100%
  );
}

/* Ribbon bow center */
.ribbon-bow {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 60px;
  height: 60px;
  z-index: 6;
}

.bow-center {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 26px;
  height: 26px;
  background: radial-gradient(circle at 35% 35%, #b8002f 0%, #6d0000 100%);
  border-radius: 50%;
  box-shadow: 
    0 4px 12px rgba(0, 0, 0, 0.7),
    inset 0 2px 3px rgba(255, 255, 255, 0.2);
}

.bow-left,
.bow-right {
  position: absolute;
  width: 32px;
  height: 40px;
  background: linear-gradient(135deg, #b8002f 0%, #6d0000 100%);
  border-radius: 50%;
  box-shadow: 
    0 3px 10px rgba(0, 0, 0, 0.5),
    inset 0 1px 2px rgba(255, 255, 255, 0.2);
}

.bow-left {
  top: 50%;
  left: -2px;
  transform: translateY(-50%) rotate(-30deg);
}

.bow-right {
  top: 50%;
  right: -2px;
  transform: translateY(-50%) rotate(30deg);
}

/* Opened Letter */
.letter-open {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%) scale(0);
  width: 480px;
  max-width: 90vw;
  max-height: 82vh;
  background: 
    radial-gradient(ellipse at 20% 10%, rgba(240, 230, 210, 1) 0%, transparent 40%),
    radial-gradient(ellipse at 80% 90%, rgba(230, 220, 200, 1) 0%, transparent 40%),
    linear-gradient(135deg, #f0e5d0 0%, #e8d5b7 100%);
  border-radius: 18px;
  padding: 48px 42px;
  box-shadow: 
    0 40px 80px rgba(0, 0, 0, 0.85),
    0 0 60px rgba(212, 175, 55, 0.15);
  opacity: 0;
  z-index: 100;
  overflow-y: auto;
  transition: all 0.9s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.letter-open.active {
  transform: translate(-50%, -50%) scale(1);
  opacity: 1;
}

/* Burnt edges on open letter */
.letter-open::before {
  content: '';
  position: absolute;
  inset: -1px;
  background-image: 
    radial-gradient(ellipse 100px 80px at 5% 5%, rgba(80, 50, 30, 0.6) 0%, transparent 50%),
    radial-gradient(ellipse 90px 70px at 95% 8%, rgba(70, 45, 25, 0.5) 0%, transparent 50%),
    radial-gradient(ellipse 85px 65px at 8% 92%, rgba(75, 48, 28, 0.5) 0%, transparent 50%),
    radial-gradient(ellipse 95px 75px at 92% 95%, rgba(80, 50, 30, 0.6) 0%, transparent 50%),
    radial-gradient(ellipse 60px 50px at 50% 2%, rgba(70, 45, 25, 0.4) 0%, transparent 50%),
    radial-gradient(ellipse 60px 50px at 50% 98%, rgba(70, 45, 25, 0.4) 0%, transparent 50%);
  border-radius: 18px;
  pointer-events: none;
  z-index: 1;
}

/* Paper texture */
.letter-open::after {
  content: '';
  position: absolute;
  inset: 0;
  background-image: 
    repeating-linear-gradient(
      0deg,
      transparent 0px,
      rgba(0, 0, 0, 0.015) 1px,
      transparent 26px
    );
  border-radius: 18px;
  pointer-events: none;
  opacity: 0.4;
  z-index: 1;
}

/* Letter content */
.letter-content {
  position: relative;
  z-index: 2;
}

/* Handwritten text - readable cursive */
.letter-text {
  color: #2a1f15;
  font-family: 'Kalam', cursive;
  font-size: 19px;
  line-height: 1.7;
  white-space: pre-line;
  opacity: 0;
  transform: translateY(30px);
  transition: all 1s ease 0.4s;
  letter-spacing: 0.3px;
  font-weight: 400;
}

.letter-open.active .letter-text {
  opacity: 1;
  transform: translateY(0);
}

/* Word reveal animation */
.letter-text .word {
  display: inline-block;
  opacity: 0;
  animation: wordFade 0.5s forwards;
}

@keyframes wordFade {
  to {
    opacity: 1;
  }
}

/* Signature */
.signature {
  margin-top: 40px;
  text-align: right;
  font-family: 'Kalam', cursive;
  font-size: 26px;
  font-weight: 700;
  color: #6d0000;
  opacity: 0;
  transform: translateX(30px);
  transition: all 0.9s ease 1.2s;
  cursor: pointer;
  padding: 12px 8px;
  user-select: none;
  position: relative;
}

.letter-open.active .signature {
  opacity: 1;
  transform: translateX(0);
}

.signature:hover {
  color: #8b0000;
  transform: translateX(-6px) scale(1.03);
}

/* Underline effect */
.signature::after {
  content: '';
  position: absolute;
  bottom: 8px;
  right: 0;
  width: 0;
  height: 2px;
  background: #6d0000;
  transition: width 0.6s ease;
}

.signature:hover::after {
  width: 100%;
}

/* Magic particles */
.particle {
  position: fixed;
  width: 5px;
  height: 5px;
  pointer-events: none;
  z-index: 999;
  border-radius: 50%;
  background: radial-gradient(circle, #d4af37 0%, transparent 70%);
  box-shadow: 0 0 12px #d4af37;
}

/* Responsive */
@media (max-width: 550px) {
  .letter-closed {
    width: 290px;
    height: 65px;
  }
  
  .ribbon {
    height: 36px;
  }
  
  .letter-open {
    padding: 38px 32px;
  }
  
  .letter-text {
    font-size: 17px;
    line-height: 1.65;
  }
  
  .signature {
    font-size: 23px;
  }
}

@media (max-width: 380px) {
  .letter-closed {
    width: 260px;
    height: 58px;
  }
  
  .letter-text {
    font-size: 16px;
  }
  
  .signature {
    font-size: 21px;
  }
}

/* Scrollbar */
.letter-open::-webkit-scrollbar {
  width: 7px;
}

.letter-open::-webkit-scrollbar-track {
  background: rgba(0, 0, 0, 0.05);
  border-radius: 10px;
}

.letter-open::-webkit-scrollbar-thumb {
  background: rgba(109, 0, 0, 0.3);
  border-radius: 10px;
}

.letter-open::-webkit-scrollbar-thumb:hover {
  background: rgba(109, 0, 0, 0.5);
}
</style>
</head>

<body>
  <!-- Stars container -->
  <div id="stars"></div>

  <!-- Closed Letter -->
  <div class="letter-closed" id="letterClosed">
    <div class="paper-edge-left"></div>
    <div class="paper-roll"></div>
    <div class="paper-edge-right"></div>
    
    <div class="ribbon">
      <div class="ribbon-band"></div>
      <div class="ribbon-bow">
        <div class="bow-left"></div>
        <div class="bow-right"></div>
        <div class="bow-center"></div>
      </div>
    </div>
  </div>

  <!-- Opened Letter -->
  <div class="letter-open" id="letterOpen">
    <div class="letter-content">
      <div class="letter-text" id="letterText">Take care of your health.
Padhai aur baaki kaam zaruri hain,
par health hamesha pehle aati hai.

Aur please,
sirf meri baat sunkar
apna stress mat lena.
Jo bhi mann me ho,
share karna â€” main sununga.
Shayad thoda halka lage.

Abhi bas aaram karo.
Jab theek lage,
tab baat karenge.</div>
      
      <div class="signature" id="signature">~ Shymlal</div>
    </div>
  </div>

<script>
// Create cosmic stars
function createStars() {
  const container = document.getElementById('stars');
  const starCount = 50;
  
  for (let i = 0; i < starCount; i++) {
    const star = document.createElement('div');
    star.className = 'star';
    
    const size = Math.random() * 2 + 0.8;
    const x = Math.random() * window.innerWidth;
    const y = Math.random() * window.innerHeight;
    const duration = Math.random() * 4 + 4;
    const delay = Math.random() * 6;
    
    star.style.width = size + 'px';
    star.style.height = size + 'px';
    star.style.left = x + 'px';
    star.style.top = y + 'px';
    star.style.animationDuration = duration + 's';
    star.style.animationDelay = delay + 's';
    
    container.appendChild(star);
  }
}

// Create magic particles
function createParticles(x, y, count) {
  for (let i = 0; i < count; i++) {
    const particle = document.createElement('div');
    particle.className = 'particle';
    particle.style.left = x + 'px';
    particle.style.top = y + 'px';
    
    document.body.appendChild(particle);
    
    const angle = (Math.PI * 2 * i) / count;
    const speed = 2.5 + Math.random() * 3;
    const lifetime = 1200 + Math.random() * 800;
    
    let startTime = Date.now();
    let posX = x;
    let posY = y;
    
    function animate() {
      const elapsed = Date.now() - startTime;
      const progress = elapsed / lifetime;
      
      if (progress < 1) {
        posX += Math.cos(angle) * speed;
        posY += Math.sin(angle) * speed - 2.5;
        
        const opacity = 1 - progress;
        const scale = 1 - progress * 0.6;
        
        particle.style.left = posX + 'px';
        particle.style.top = posY + 'px';
        particle.style.opacity = opacity;
        particle.style.transform = 'scale(' + scale + ')';
        
        requestAnimationFrame(animate);
      } else {
        particle.remove();
      }
    }
    
    animate();
  }
}

// Open letter
function openLetter() {
  const letterClosed = document.getElementById('letterClosed');
  const letterOpen = document.getElementById('letterOpen');
  const letterText = document.getElementById('letterText');
  
  const rect = letterClosed.getBoundingClientRect();
  const x = rect.left + rect.width / 2;
  const y = rect.top + rect.height / 2;
  
  // Create particle effect
  createParticles(x, y, 35);
  
  // Hide closed letter
  letterClosed.style.transition = 'all 0.8s ease';
  letterClosed.style.transform = 'translateY(-100px) rotateX(80deg) scale(0.3)';
  letterClosed.style.opacity = '0';
  
  setTimeout(() => {
    letterClosed.style.display = 'none';
    letterOpen.classList.add('active');
    
    // Animate text word by word
    const text = letterText.textContent;
    const words = text.split(/(\s+)/);
    
    letterText.innerHTML = '';
    
    words.forEach((word, index) => {
      const span = document.createElement('span');
      span.className = 'word';
      span.textContent = word;
      span.style.animationDelay = (index * 0.06) + 's';
      letterText.appendChild(span);
    });
  }, 400);
}

// Close letter
function closeLetter(e) {
  e.stopPropagation();
  
  const letterClosed = document.getElementById('letterClosed');
  const letterOpen = document.getElementById('letterOpen');
  
  const rect = e.target.getBoundingClientRect();
  const x = rect.left + rect.width / 2;
  const y = rect.top + rect.height / 2;
  
  // Create particle effect
  createParticles(x, y, 30);
  
  // Hide open letter
  letterOpen.classList.remove('active');
  
  setTimeout(() => {
    // Show closed letter
    letterClosed.style.display = 'block';
    letterClosed.style.opacity = '0';
    letterClosed.style.transform = 'translateY(100px) rotateX(-80deg) scale(0.3)';
    
    setTimeout(() => {
      letterClosed.style.transition = 'all 1s ease';
      letterClosed.style.transform = 'translateY(0) rotateX(8deg) scale(1)';
      letterClosed.style.opacity = '1';
    }, 50);
  }, 800);
}

// Initialize
createStars();

// Event listeners
document.getElementById('letterClosed').addEventListener('click', openLetter);
document.getElementById('signature').addEventListener('click', closeLetter);

// Touch support
document.getElementById('letterClosed').addEventListener('touchend', function(e) {
  e.preventDefault();
  openLetter();
});

document.getElementById('signature').addEventListener('touchend', function(e) {
  e.preventDefault();
  closeLetter(e);
});
</script>

</body>
</html>